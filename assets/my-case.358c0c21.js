var de=Object.defineProperty,fe=Object.defineProperties;var ve=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var j=(e,a,o)=>a in e?de(e,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[a]=o,_=(e,a)=>{for(var o in a||(a={}))E.call(a,o)&&j(e,o,a[o]);if(C)for(var o of C(a))J.call(a,o)&&j(e,o,a[o]);return e},N=(e,a)=>fe(e,ve(a));var R=(e,a)=>{var o={};for(var l in e)E.call(e,l)&&a.indexOf(l)<0&&(o[l]=e[l]);if(e!=null&&C)for(var l of C(e))a.indexOf(l)<0&&J.call(e,l)&&(o[l]=e[l]);return o};import{C as me}from"./cases-api.service.61f7eb74.js";import{N as he}from"./notifications-api.service.ffc6a6d0.js";import{L as ge}from"./lawyers-api.service.2529364b.js";import{m as xe,I as _e,J as we,B as V,u as g,af as ye,T as p,R as Ce,K as Ve,M as pe,b as t,N as H,F as K,E as O,ag as Q,P as Se,L as be,Q as q,C as Ie,_ as ke,f as Fe,o as Be,d as Pe,w as n,a as f,g as $,t as M,k as W,V as X,h as Ne,i as Y,l as Re,p as He,e as Me}from"./index.224af526.js";import{V as d}from"./VContainer.2dea0913.js";import{m as $e,a as Te,f as Ue,b as Ae,V as ze,c as De,d as Ge}from"./VCounter.c58ac589.js";import"./http.241ae005.js";const Le=xe({name:"VTextarea",directives:{Intersect:_e},inheritAttrs:!1,props:_(_({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String},$e()),Te()),emits:{"click:clear":e=>!0,"click:control":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:o,emit:l,slots:u}=a;const i=we(e,"modelValue"),S=V(()=>typeof e.counterValue=="function"?e.counterValue(i.value):(i.value||"").toString().length),b=V(()=>{if(o.maxlength)return o.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function Z(s,r){var c,h;!e.autofocus||!s||(c=r[0].target)==null||(h=c.focus)==null||h.call(c)}const ee=g(),te=g(),v=g(!1),U=g("auto"),w=g(),A=V(()=>v.value||e.persistentPlaceholder),ae=V(()=>e.messages.length?e.messages:A.value||e.persistentHint?e.hint:"");function I(){if(w.value!==document.activeElement){var s;(s=w.value)==null||s.focus()}v.value||(v.value=!0)}function se(s){I(),l("click:control",s)}function oe(s){s.stopPropagation(),I(),q(()=>{i.value="",l("click:clear",s)})}const m=g();function x(){!e.autoGrow||q(()=>{if(!m.value)return;const s=getComputedStyle(m.value),r=parseFloat(s.getPropertyValue("--v-field-padding-top"))+parseFloat(s.getPropertyValue("--v-field-padding-bottom")),c=m.value.scrollHeight,h=parseFloat(s.lineHeight),k=parseFloat(e.rows)*h+r,F=parseFloat(e.maxRows)*h+r||1/0;U.value=Ie(Math.min(F,Math.max(k,c!=null?c:0)))})}ye(x),p(i,x),p(()=>e.rows,x),p(()=>e.maxRows,x);let y;return p(m,s=>{if(s)y=new ResizeObserver(x),y.observe(m.value);else{var r;(r=y)==null||r.disconnect()}}),Ce(()=>{var s;(s=y)==null||s.disconnect()}),Ve(()=>{const s=!!(u.counter||e.counter||e.counterValue),[r,c]=pe(o),[Ye]=Ue(e),z=Ye,{modelValue:h}=z,k=R(z,["modelValue"]),[F]=Ae(e);return t(Ge,H({modelValue:i.value,"onUpdate:modelValue":B=>i.value=B,class:["v-textarea",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow}]},r,k,{messages:ae.value}),N(_({},u),{default:B=>{let{isDisabled:ne,isDirty:D,isReadonly:le,isValid:ie}=B;return t(ze,H({style:{"--v-input-control-height":U.value},"onClick:control":se,"onClick:clear":oe,role:"textbox"},F,{active:A.value||D.value,dirty:D.value||e.dirty,focused:v.value,error:ie.value===!1}),N(_({},u),{default:re=>{let{props:ce}=re,L=ce,{class:G}=L,ue=R(L,["class"]);return t(K,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),O(t("textarea",H({ref:w,class:G,"onUpdate:modelValue":P=>i.value=P,autofocus:e.autofocus,readonly:le.value,disabled:ne.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:I,onBlur:()=>v.value=!1},ue,c),null),[[Q,i.value],[Se("intersect"),{handler:Z},null,{once:!0}]]),e.autoGrow&&O(t("textarea",{class:[G,"v-textarea__sizer"],"onUpdate:modelValue":P=>i.value=P,ref:m,readonly:!0,"aria-hidden":"true"},null),[[Q,i.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}}))},details:s?()=>t(K,null,[t("span",null,null),t(De,{active:e.persistentCounter||v.value,value:S.value,max:b.value},u.counter)]):void 0}))}),be({},ee,te,w)}}),je={name:"my-case",data(){return{oneCase:[],caseService:null,lawyer:null,lawyerService:null,notificationService:null}},created(){this.$store.getters.inLogin||(window.location.href="/"),this.caseService=new me,this.lawyerService=new ge,this.caseService.getByIndex(this.$route.params.id).then(e=>{this.oneCase=e.data,this.$store.getters.getUser.type=="lawyer"?this.oneCase.lawyer!=this.$store.getters.getUser.id&&(window.location.href="/"):this.oneCase.client!=this.$store.getters.getUser.id&&(window.location.href="/"),this.lawyerService.getByIndex(this.oneCase.lawyer).then(a=>{this.lawyer=a.data,console.log(a.data)})})},methods:{sendMessage(){this.notificationService=new he,this.$store.getters.getUser.type=="lawyer"?this.notificationService.create({casesId:this.oneCase.id,personId:this.oneCase.client,title:this.oneCase.title,description:"Has recibido un nuevo mensaje en este caso!"}):this.notificationService.create({casesId:this.oneCase.id,personId:this.oneCase.lawyer,title:this.oneCase.title,description:"Has recibido un nuevo mensaje en este caso!"})}}},T=e=>(He("data-v-78e8aa90"),e=e(),Me(),e),Ee={class:"text-center"},Je={class:"text-green-lighten-1"},Ke=T(()=>f("h5",{class:"bio"},"Consult Description",-1)),Oe=T(()=>f("h2",{class:"text-center mr-5"}," My Lawyer",-1)),Qe=$("Ver Perfil"),qe=T(()=>f("h5",{class:"bio"},"Message",-1)),We=$("Send Message");function Xe(e,a,o,l,u,i){const S=Fe("router-link");return Be(),Pe(d,{class:"d-flex"},{default:n(()=>[t(d,{class:"w-50 ma-0"},{default:n(()=>[f("div",null,[t(d,{class:"ma-0"},{default:n(()=>[f("h2",Ee,[$(M(u.oneCase.title),1),f("span",Je,M(u.oneCase.condition),1)]),t(W,{class:"caso ma-5 rounded-lg"},{default:n(()=>[t(X,null,{default:n(()=>[Ke]),_:1}),t(Ne,null,{default:n(()=>[f("p",null,M(u.oneCase.caseDescription),1)]),_:1})]),_:1})]),_:1})]),t(d,{class:"ma-0"},{default:n(()=>[t(d,{class:"d-flex justify-center"},{default:n(()=>[Oe,t(S,{class:"text-decoration-none text-black",to:"/lawyer/2"},{default:n(()=>[t(Y,{class:"boton-caso rounded-0"},{default:n(()=>[Qe]),_:1})]),_:1})]),_:1}),t(Re,{src:"https://img.lalr.co/cms/2017/10/06191633/abogado.jpg?size=xl","max-height":"400","max-width":"400",class:"rounded ma-auto mt-5",position:"center"})]),_:1})]),_:1}),t(d,null,{default:n(()=>[t(W,{class:"caso ma-5 rounded-lg"},{default:n(()=>[t(X,null,{default:n(()=>[qe]),_:1}),t(d,{class:"d-flex mt-custom"},{default:n(()=>[t(Le,{class:"mr-5","bg-color":"white","auto-grow":"",shaped:"",rows:"1",modelValue:e.message,"onUpdate:modelValue":a[0]||(a[0]=b=>e.message=b)},null,8,["modelValue"]),t(Y,{class:"boton-caso rounded-0",onClick:i.sendMessage},{default:n(()=>[We]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})}var it=ke(je,[["render",Xe],["__scopeId","data-v-78e8aa90"]]);export{it as default};
